(function(t){function a(a){for(var s,r,n=a[0],l=a[1],c=a[2],u=0,m=[];u<n.length;u++)r=n[u],o[r]&&m.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(a);while(m.length)m.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,n=1;n<e.length;n++){var l=e[n];0!==o[l]&&(s=!1)}s&&(i.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},o={app:0},i=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var c=0;c<n.length;c++)a(n[c]);var d=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("097d");var s=e("2b0e"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-scroller",attrs:{id:"app"}},[e("Navbar",{attrs:{user:t.user,notifications:t.notifications},on:{"enable-search":t.enableSearch,"view-notifications":t.viewNotification}}),e("div",{staticClass:"container-fluid page-body-wrapper"},[e("nav",{staticClass:"sidebar sidebar-offcanvas",attrs:{id:"sidebar"}},[e("SideBar",{attrs:{user:t.user},on:{"update-data":t.updateData,"enable-search":t.enableSearch}})],1),e("div",{staticClass:"main-panel"},[e("div",{staticClass:"content-wrapper"},[t.showSearch?e("div",{staticClass:"col-lg-12 grid-margin stretch-card"},[e("div",{staticClass:"card"},[e("SearchJob",{on:{search:t.searchJob}})],1)]):t._e(),t.renderList?e("JobListCard",{attrs:{jobs:t.jobs},on:{start:t.startJob,stop:t.stopJob,detail:t.detailJob}}):t._e(),t.renderList?e("Pagination",{attrs:{limit:t.limit,offset:t.offset,has_next:t.has_next},on:{"change-offset":t.changeOffset}}):e("JobDetailCard",{attrs:{job_detail:t.job_detail,instances:t.instances},on:{stop:t.stopJob,start:t.startJob,update:t.updateJob}})],1),t._m(0)])])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container-fluid clearfix"},[e("span",{staticClass:"text-muted d-block text-center text-sm-left d-sm-inline-block"},[t._v("Copyright Â© 2018\n            "),e("a",{attrs:{href:"http://www.five9.vn/",target:"_blank"}},[t._v("Five9.Vn")]),t._v(". All rights reserved.")])])])}],r=(e("7f7f"),e("a481"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-12 grid-margin"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v("Detail Information")]),e("form",{staticClass:"form-sample"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Search")]),e("div",{staticClass:"col-md-6"},[e("suggestions",{attrs:{options:t.options,onInputChange:t.onInputChange,onItemSelected:t.onSearchItemSelected},model:{value:t.query,callback:function(a){t.query=a},expression:"query"}})],1)])]),e("div",{staticClass:"col-md-6"})]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Scheduler Type")]),e("div",{staticClass:"col-sm-9"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.query_wrapper.schedulerType,expression:"query_wrapper.schedulerType"}],staticClass:"form-control",attrs:{id:"schedulerType"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.query_wrapper,"schedulerType",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"0"}},[t._v("No Scheduling")]),e("option",{attrs:{value:"1"}},[t._v("Interval")]),e("option",{attrs:{value:"2"}},[t._v("Daily")]),e("option",{attrs:{value:"3"}},[t._v("Weekly")]),e("option",{attrs:{value:"4"}},[t._v("Monthly")])])])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Status")]),e("div",{staticClass:"col-sm-9"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.query_wrapper.status,expression:"query_wrapper.status"}],staticClass:"form-control",attrs:{id:"jobStatus"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.query_wrapper,"status",a.target.multiple?e:e[0])}}},[e("option",[t._v("Running")]),e("option",[t._v("Finished")]),e("option",[t._v("Stopped")]),e("option",[t._v("Halt")]),e("option",[t._v("Stopped(with errors)")])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("From Date")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query_wrapper.from,expression:"query_wrapper.from"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.query_wrapper.from},on:{input:function(a){a.target.composing||t.$set(t.query_wrapper,"from",a.target.value)}}})])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("To Date")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query_wrapper.to,expression:"query_wrapper.to"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.query_wrapper.to},on:{input:function(a){a.target.composing||t.$set(t.query_wrapper,"to",a.target.value)}}})])])])])])])]),e("button",{staticClass:"btn btn-success mr-2",attrs:{type:"submit"},on:{click:t.submitSearch}},[t._v("Search")])])}),n=[],l=e("c4f6"),c=e.n(l),d=(e("a576"),{components:{Suggestions:c.a},data:function(){var t=[];return{query:"",jobs:t,selectedCountry:null,options:{},query_wrapper:{status:"",schedulerType:"",query:"",from:"",to:""}}},methods:{onInputChange:function(t){return 0===t.trim().length?null:(this.query_wrapper.query=this.query,this.$emit("search",this.query_wrapper),[])},onSearchItemSelected:function(t){this.selectedSearchItem=t},submitSearch:function(){this.query_wrapper.query=this.query,this.$emit("search",this.query_wrapper)}}}),u=d,m=e("2877"),p=Object(m["a"])(u,r,n,!1,null,null,null);p.options.__file="SearchJob.vue";var v=p.exports,f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex flex-row"},[e("div",{staticClass:"text-center navbar-brand-wrapper d-flex align-items-top justify-content-center"},[e("a",{staticClass:"navbar-brand brand-logo",attrs:{href:"#"},on:{click:function(a){t.$emit("update-data")}}},[e("img",{attrs:{src:"image/logo_five9.png",alt:"logo"}})]),t._m(0)]),e("div",{staticClass:"navbar-menu-wrapper d-flex align-items-center"},[e("ul",{staticClass:"navbar-nav navbar-nav-left header-links d-none d-md-flex"}),e("ul",{staticClass:"navbar-nav navbar-nav-right"},[e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link count-indicator dropdown-toggle",attrs:{id:"notificationDropdown",href:"#","data-toggle":"dropdown"}},[e("i",{staticClass:"mdi mdi-bell"}),e("span",{staticClass:"count"},[t._v(t._s(t.notifications.length))])]),e("div",{staticClass:"dropdown-menu dropdown-menu-right navbar-dropdown preview-list",attrs:{"aria-labelledby":"notificationDropdown"}},[e("a",{staticClass:"dropdown-item"},[e("p",{staticClass:"mb-0 font-weight-normal float-left"},[t._v("\n                                    You have "+t._s(t.notifications.length)+" new notifications\n                                ")]),e("span",{staticClass:"badge badge-pill badge-warning float-right",on:{click:function(a){t.$emit("view-notifications")}}},[t._v("View all")])]),t._l(t.notifications,function(a){return e("div",{key:a.id},[e("div",{staticClass:"dropdown-divider"}),e("a",{staticClass:"dropdown-item preview-item"},[t._m(1,!0),e("div",{staticClass:"preview-item-content"},[e("h6",{staticClass:"preview-subject font-weight-medium text-dark"},[t._v(t._s(a.message))]),e("p",{staticClass:"font-weight-light small-text"},[t._v("\n                                            Just now\n                                        ")])])])])})],2)]),e("li",{staticClass:"nav-item dropdown d-none d-xl-inline-block"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{id:"UserDropdown",href:"#","data-toggle":"dropdown","aria-expanded":"false"}},[e("span",{staticClass:"profile-text"},[t._v("Hello, "+t._s(t.user.firstname)+"!")]),e("img",{staticClass:"img-xs rounded-circle",attrs:{src:"image/face1.jpg",alt:"Profile image"}})]),t._m(2)])]),t._m(3)])])},b=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"navbar-brand brand-logo-mini",attrs:{href:"#"}},[e("img",{attrs:{src:"image/logo-mini.svg",alt:"logo"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"preview-thumbnail"},[e("div",{staticClass:"preview-icon bg-success"},[e("i",{staticClass:"mdi mdi-email-outline mx-0"})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dropdown-menu dropdown-menu-right navbar-dropdown",attrs:{"aria-labelledby":"UserDropdown"}},[e("a",{staticClass:"dropdown-item p-0"},[e("div",{staticClass:"d-flex border-bottom"},[e("div",{staticClass:"py-3 px-4 d-flex align-items-center justify-content-center"},[e("i",{staticClass:"mdi mdi-bookmark-plus-outline mr-0 text-gray"})]),e("div",{staticClass:"py-3 px-4 d-flex align-items-center justify-content-center border-left border-right"},[e("i",{staticClass:"mdi mdi-account-outline mr-0 text-gray"})]),e("div",{staticClass:"py-3 px-4 d-flex align-items-center justify-content-center"},[e("i",{staticClass:"mdi mdi-alarm-check mr-0 text-gray"})])])]),e("a",{staticClass:"dropdown-item mt-2"},[t._v("Manage Accounts")]),e("a",{staticClass:"dropdown-item"},[t._v("Sign Out")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler navbar-toggler-right d-lg-none align-self-center",attrs:{type:"button","data-toggle":"offcanvas"}},[e("span",{staticClass:"icon-menu"})])}],_={name:"Navbar",props:["user","notifications"]},h=_,C=Object(m["a"])(h,f,b,!1,null,null,null);C.options.__file="Navbar.vue";var g=C.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"nav"},[e("li",{staticClass:"nav-item nav-profile"},[e("div",{staticClass:"nav-link"},[e("div",{staticClass:"user-wrapper"},[t._m(0),e("div",{staticClass:"text-wrapper"},[e("p",{staticClass:"profile-name"},[t._v(t._s(t.user.fullname))]),t._m(1)])])])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(a){t.$emit("update-data")}}},[e("i",{staticClass:"menu-icon mdi mdi-television"}),e("span",{staticClass:"menu-title"},[t._v("Dashboard")])])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(a){t.$emit("enable-search")}}},[e("i",{staticClass:"menu-icon mdi-file-find"}),e("span",{staticClass:"menu-title"},[t._v("Search")])])]),t._m(2)])},w=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"profile-image"},[e("img",{attrs:{src:"image/face1.jpg",alt:"profile image"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("small",{staticClass:"designation text-muted"},[t._v("Data Engineer")]),e("span",{staticClass:"status-indicator online"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[e("i",{staticClass:"menu-icon mdi mdi-logout"}),e("span",{staticClass:"menu-title"},[t._v("Logout")])])])}],j={name:"SideBar",props:["user"]},x=j,k=Object(m["a"])(x,y,w,!1,null,null,null);k.options.__file="SideBar.vue";var S=k.exports,$=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-lg-12 grid-margin stretch-card"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v("ETL Jobs")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped"},[t._m(0),e("tbody",t._l(t.jobs,function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.id))]),e("td",{staticStyle:{cursor:"pointer",color:"blue"},on:{click:function(e){t.$emit("detail",a)}}},[e("a",[t._v(t._s(a.name))])]),0==a.scheduler_type?e("td",[t._v("None")]):1==a.scheduler_type?e("td",[t._v("Interval")]):2==a.scheduler_type?e("td",[t._v("Daily")]):3==a.scheduler_type?e("td",[t._v("Weekly")]):4==a.scheduler_type?e("td",[t._v("Monthly")]):t._e(),e("td",[t._v(t._s(a.is_repeat))]),e("td",[t._v(t._s(a.created_date))]),e("td",[t._v(t._s(a.modified_date))]),e("td",[e("label",{staticClass:"badge badge-success"},[t._v(t._s(a.status))])]),e("td",{staticStyle:{cursor:"pointer"}},["Running"==a.status?e("a",{on:{click:function(e){t.stopJob(a)}}},[e("img",{attrs:{src:"image/stop.png"}})]):e("a",[e("img",{attrs:{src:"image/start.png"},on:{click:function(e){t.startJob(a)}}})])])])}),0)])])])])])},E=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("# Job ID")]),e("th",[t._v("Job name")]),e("th",[t._v("Scheduler Type")]),e("th",[t._v("Repeat")]),e("th",[t._v("Created Date")]),e("th",[t._v("Modified Date")]),e("th",[t._v("Status")]),e("th",[t._v("Action")])])])}],P={name:"JobListCard",props:["jobs"],methods:{startJob:function(t){this.$emit("start",t)},stopJob:function(t){this.$emit("stop",t)}}},J=P,D=Object(m["a"])(J,$,E,!1,null,null,null);D.options.__file="JobListCard.vue";var N=D.exports,q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 grid-margin"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v("Detail Information")]),e("form",{staticClass:"form-sample"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("ID")]),e("div",{staticClass:"col-sm-9"},[e("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.job.id}})])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Name")]),e("div",{staticClass:"col-sm-9"},[e("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.job.name}})])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Description")]),e("div",{staticClass:"col-sm-9"},[e("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.job.description}})])])]),t._m(0)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Scheduler Type")]),e("div",{staticClass:"col-sm-9"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.job.scheduler_type,expression:"job.scheduler_type"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.job,"scheduler_type",a.target.multiple?e:e[0])},t.onChangeSchedulerType]}},[e("option",{attrs:{value:"0"},domProps:{selected:0===t.job.scheduler_type}},[t._v("No Scheduling")]),e("option",{attrs:{value:"1"},domProps:{selected:1===t.job.scheduler_type}},[t._v("Interval")]),e("option",{attrs:{value:"2"},domProps:{selected:2===t.job.scheduler_type}},[t._v("Daily")]),e("option",{attrs:{value:"3"},domProps:{selected:3===t.job.scheduler_type}},[t._v("Weekly")]),e("option",{attrs:{value:"4"},domProps:{selected:4===t.job.scheduler_type}},[t._v("Monthly")])])])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Repeat")]),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"isRepeat",id:"isRepeat1",value:"option1"},domProps:{checked:"Y"===t.job.is_repeat},on:{change:t.onChangeRepeat}}),t._v(" Yes\n                                                "),e("i",{staticClass:"input-helper"})])])]),e("div",{staticClass:"col-sm-5"},[e("div",{staticClass:"form-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"isRepeat",id:"isRepeat2",value:"option2"},domProps:{checked:"N"===t.job.is_repeat},on:{change:t.onChangeRepeat}}),t._v(" No\n                                                "),e("i",{staticClass:"input-helper"})])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Interval Of Seconds")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.job.interval_seconds,expression:"job.interval_seconds"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"59",placeholder:t.job.interval_seconds,disabled:t.disableEdit(t.job.scheduler_type,"interval_seconds")},domProps:{value:t.job.interval_seconds},on:{input:function(a){a.target.composing||t.$set(t.job,"interval_seconds",a.target.value)}}})])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Interval Of Minutes")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.job.interval_minutes,expression:"job.interval_minutes"}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:t.job.interval_minutes,disabled:t.disableEdit(t.job.scheduler_type,"interval_minutes")},domProps:{value:t.job.interval_minutes},on:{input:function(a){a.target.composing||t.$set(t.job,"interval_minutes",a.target.value)}}})])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Hours")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.job.hours,expression:"job.hours"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"23",placeholder:t.job.hours,disabled:t.disableEdit(t.job.scheduler_type,"hours")},domProps:{value:t.job.hours},on:{input:function(a){a.target.composing||t.$set(t.job,"hours",a.target.value)}}})])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Minutes")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.job.minutes,expression:"job.minutes"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"59",placeholder:t.job.minutes,disabled:t.disableEdit(t.job.scheduler_type,"minutes")},domProps:{value:t.job.minutes},on:{input:function(a){a.target.composing||t.$set(t.job,"minutes",a.target.value)}}})])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Day of week")]),e("div",{staticClass:"col-sm-9"},[e("select",{staticClass:"form-control",attrs:{disabled:t.disableEdit(t.job.scheduler_type,"week_day")},on:{change:t.onChangeDayOfWeek}},[e("option",{attrs:{value:"1"},domProps:{selected:1===t.job.week_day}},[t._v("Sunday")]),e("option",{attrs:{value:"2"},domProps:{selected:2===t.job.week_day}},[t._v("Monday")]),e("option",{attrs:{value:"3"},domProps:{selected:3===t.job.week_day}},[t._v("Tuesday")]),e("option",{attrs:{value:"4"},domProps:{selected:4===t.job.week_day}},[t._v("Wednesday")]),e("option",{attrs:{value:"5"},domProps:{selected:5===t.job.week_day}},[t._v("Thursday")]),e("option",{attrs:{value:"6"},domProps:{selected:6===t.job.week_day}},[t._v("Friday")]),e("option",{attrs:{value:"7"},domProps:{selected:7===t.job.week_day}},[t._v("Saturday")])])])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Day of month")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.job.day_of_month,expression:"job.day_of_month"}],staticClass:"form-control",attrs:{type:"number",max:"30",placeholder:t.job.day_of_month,disabled:t.disableEdit(t.job.scheduler_type,"day_of_month")},domProps:{value:t.job.day_of_month},on:{input:function(a){a.target.composing||t.$set(t.job,"day_of_month",a.target.value)}}})])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("CronTab")]),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"cronEnable",id:"cron1",value:"option1"},domProps:{checked:!0===t.job.cron_enable},on:{change:t.onChangeEnableCron}}),t._v(" Enable\n                                                "),e("i",{staticClass:"input-helper"})])])]),e("div",{staticClass:"col-sm-5"},[e("div",{staticClass:"form-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"cronEnable",id:"cron2",value:"option2"},domProps:{checked:!1===t.job.cron_enable},on:{change:t.onChangeEnableCron}}),t._v(" Disable\n                                                "),e("i",{staticClass:"input-helper"})])])])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.job.cron,expression:"job.cron"}],staticClass:"form-control",attrs:{type:"hidden",placeholder:t.job.cron},domProps:{value:t.job.cron},on:{input:function(a){a.target.composing||t.$set(t.job,"cron",a.target.value)}}})])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Second")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cron.second,expression:"cron.second"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cron.second},on:{change:t.updateCronExpression,input:function(a){a.target.composing||t.$set(t.cron,"second",a.target.value)}}})])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Minute")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cron.minute,expression:"cron.minute"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cron.minute},on:{change:t.updateCronExpression,input:function(a){a.target.composing||t.$set(t.cron,"minute",a.target.value)}}})])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Hour")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cron.hour,expression:"cron.hour"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cron.hour},on:{change:t.updateCronExpression,input:function(a){a.target.composing||t.$set(t.cron,"hour",a.target.value)}}})])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Day (month)")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cron.day,expression:"cron.day"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cron.day},on:{change:t.updateCronExpression,input:function(a){a.target.composing||t.$set(t.cron,"day",a.target.value)}}})])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Month")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cron.month,expression:"cron.month"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cron.month},on:{change:t.updateCronExpression,input:function(a){a.target.composing||t.$set(t.cron,"month",a.target.value)}}})])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Day (week)")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cron.day_week,expression:"cron.day_week"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cron.day_week},on:{change:t.updateCronExpression,input:function(a){a.target.composing||t.$set(t.cron,"day_week",a.target.value)}}})])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Year")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cron.year,expression:"cron.year"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cron.year},on:{change:t.updateCronExpression,input:function(a){a.target.composing||t.$set(t.cron,"year",a.target.value)}}})])])]),t._m(1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Start Date")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.job.cron_start,expression:"job.cron_start"}],staticClass:"form-control",attrs:{type:"date",placeholder:t.job.cron_start},domProps:{value:t.job.cron_start},on:{input:function(a){a.target.composing||t.$set(t.job,"cron_start",a.target.value)}}})])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-3 col-form-label"},[t._v("End Date")]),e("div",{staticClass:"col-sm-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.job.cron_end,expression:"job.cron_end"}],staticClass:"form-control",attrs:{type:"date",placeholder:t.job.cron_end},domProps:{value:t.job.cron_end},on:{input:function(a){a.target.composing||t.$set(t.job,"cron_end",a.target.value)}}})])])])]),t.modalVisible?e("Modal",{attrs:{item:t.instance},on:{close:function(a){t.modalVisible=!1}},model:{value:t.modalVisible,callback:function(a){t.modalVisible=a},expression:"modalVisible"}}):t._e(),e("button",{staticClass:"btn btn-success mr-2",attrs:{type:"submit"},on:{click:t.updateJob}},[t._v("Save")])],1)])])]),e("div",{staticClass:"col-12 grid-margin"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",{staticClass:"card-title"},[t._v("Instances")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-striped"},[t._m(2),e("tbody",t._l(t.instances,function(a){return e("tr",{key:a.id},[e("td",{staticStyle:{cursor:"pointer"}},[e("a",{attrs:{"data-toggle":"modal","data-target":"#myModal"},on:{click:function(e){t.openModal(a)}}},[t._v(t._s(a.id))])]),e("td",[t._v(t._s(a.log_date))]),e("td",["Stoped(with errors)"===a.status_desc?e("label",{staticClass:"badge badge-danger"},[t._v(t._s(a.status_desc))]):e("label",{staticClass:"badge badge-success"},[t._v(t._s(a.status_desc))])]),e("td",{staticStyle:{cursor:"pointer"}},["Running"===a.status_desc?e("a",{on:{click:function(e){t.stopJob(a)}}},[e("img",{attrs:{src:"image/stop.png"}})]):e("a",{on:{click:function(e){t.startJob(a)}}},[e("img",{attrs:{src:"image/start.png"}})])])])}),0)])])])])])])},O=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group row"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("# Instance ID")]),e("th",[t._v("Log Date")]),e("th",[t._v("Status")]),e("th",[t._v("Action")])])])}],L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal",attrs:{id:"myModal"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("pre",[t._v(t._s(t.item.logging_string))]),e("p",[e("img",{attrs:{src:"data:image/jpeg;base64,"+t.item.job_image}})])]),t._m(1)])])])},I=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Instance information")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Ã")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],M={name:"Modal",props:["item"]},T=M,R=Object(m["a"])(T,L,I,!1,null,null,null);R.options.__file="Modal.vue";var A=R.exports,V=e("bc3a"),U=e.n(V),W={name:"JobDetailCard",props:["job_detail","instances"],components:{Modal:A},data:function(){return{modalVisible:!1,instance:null,job:null,cron:{second:"*",hour:"*",minute:"*",day:"*",month:"*",day_week:"*",year:"?"}}},created:function(){this.job=this.job_detail},methods:{startJob:function(t){this.job["instanceid"]=t.id,this.$emit("start",this.job)},stopJob:function(t){this.job["instanceid"]=t.id,this.$emit("stop",this.job)},updateJob:function(){this.job_detail=this.job,this.$emit("update",this.job)},getJobStatus:function(t){alert(t)},openModal:function(t){var a=this;U.a.get("http://192.168.106.60:8080/api/v1/jobStatus?name="+this.job.name+"&id="+t.id).then(function(t){a.instance=t.data,a.modalVisible=!0}).catch(function(t){alert(t)})},onChangeSchedulerType:function(t){this.job.scheduler_type=t.target.options.selectedIndex},onChangeRepeat:function(){"Y"===this.job.is_repeat?this.job.is_repeat="N":this.job.is_repeat="Y"},onChangeEnableCron:function(){this.job.cron_enable=!this.job.cron_enable,!0===this.job.cron_enable&&(this.job.scheduler_type=0)},onChangeDayOfWeek:function(t){this.job.week_day=t.target.options.selectedIndex+1},disableEdit:function(t,a){if(0===t)return!0;if(1===t){if("interval_seconds"===a||"interval_minutes"===a)return!1}else if(2===t){if("hours"===a||"minutes"===a)return!1}else if(3===t){if("hours"===a||"minutes"===a||"week_day"===a)return!1}else if(4===t&&("hours"===a||"minutes"===a||"day_of_month"===a))return!1;return!0},updateCronExpression:function(){this.job.cron=this.cron.second+" "+this.cron.minute+" "+this.cron.hour+" "+this.cron.month+" "+this.cron.day_week+" "+this.cron.year}}},F=W,Y=Object(m["a"])(F,q,O,!1,null,null,null);Y.options.__file="JobDetailCard.vue";var B=Y.exports,H=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"footer-paginaton"},[e("ul",{staticClass:"pagination justify-content-center"},[0==t.offset?e("li",{staticClass:"page-item disabled"},[e("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"}},[t._v("Previous")])]):e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{tabindex:"-1"},on:{click:function(a){t.$emit("change-offset",-1)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link"},[t._v(t._s(t.offset/t.limit+1))])]),1==t.has_next?e("li",{staticClass:"page-item",on:{click:function(a){t.$emit("change-offset",1)}}},[e("a",{staticClass:"page-link"},[t._v(t._s(t.offset/t.limit+2))])]):t._e(),t._m(0),1==t.has_next?e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",on:{click:function(a){t.$emit("change-offset",1)}}},[t._v("Next")])]):e("li",{staticClass:"page-item disabled"},[e("a",{staticClass:"page-link",attrs:{tabindex:"-1"}},[t._v("Next")])])])])},Q=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link"},[t._v("...")])])}],K={name:"Pagination",props:["limit","offset","has_next"]},z=K,G=Object(m["a"])(z,H,Q,!1,null,null,null);G.options.__file="Pagination.vue";var X=G.exports,Z="http://192.168.106.60:8080/api/v1/",tt=Z+"jobs?limit={{limit}}&offset={{offset}}",at=Z+"startJob",et=Z+"stopJob",st=Z+"jobStatusList?name={{name}}",ot=Z+"advancedSearch?q={{q}}&status={{status}}&from={{from}}&to={{to}}&scheduler_type={{scheduler_type}}&limit=10",it=Z+"job",rt=Z+"notificationList?limit={{limit}}&offset={{offset}}",nt={headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}},lt={name:"app",components:{SearchJob:v,Navbar:g,SideBar:S,JobListCard:N,JobDetailCard:B,Pagination:X},data:function(){return{renderList:!0,showSearch:!1,user:{fullname:"Quan Pham Van",firstname:"Quan"},notifications:[{id:1,message:"ETL job KOL_FOLLOWER_CUBE error",time:new Date}],jobs:null,has_next:null,limit:10,offset:0,job_detail:null,instances:null}},methods:{getJobList:function(){var t=this,a=tt.replace("{{limit}}",this.limit).replace("{{offset}}",this.offset);U.a.get(a,nt).then(function(a){t.jobs=a.data.jobs,t.has_next=a.data.has_next})},enableSearch:function(){this.renderList=!0,this.showSearch=!0},searchJob:function(t){var a=this,e=ot.replace("{{q}}",t["query"]).replace("{{status}}",t["status"]).replace("{{from}}",t["from"]).replace("{{to}}",t["to"]).replace("{{scheduler_type}}",t["schedulerType"]);U.a.get(e).then(function(t){a.jobs=t.data,a.$forceUpdate()})},getJobStatusList:function(){var t=this,a=st.replace("{{name}}",this.job_detail.name);U.a.get(a,nt).then(function(a){t.instances=a.data})},startJob:function(t){var a=this,e="Do you want to start "+t.name;confirm(e)&&U.a.post(at,{name:t.name,instanceid:t["instanceid"]},nt).then(function(t){200===t.status?(t.data.status,alert(t.data.message),a.updateData()):alert("Error "+t.status)}).catch(function(t){alert(t)})},stopJob:function(t){var a=this,e="Do you want to stop "+t.name;confirm(e)&&U.a.post(et,{name:t.name,instanceid:t["instanceid"]},nt).then(function(t){200===t.status?(1===t.data.status?alert("Stop job success"):alert("Stop job error"),a.updateData()):alert("Error "+t.status)}).catch(function(t){alert(t)})},updateJob:function(t){U.a.post(it,t,nt).then(function(t){200===t.status?(t.data.status,alert(t.data.message)):alert("Error "+t.status)}).catch(function(t){alert(t)}),this.$forceUpdate()},changeOffset:function(t){this.offset=this.offset+t*this.limit,this.updateData()},offsetPlus:function(t){return this.offset/this.limit+t},detailJob:function(t){this.renderList=!1,this.job_detail=t,this.instances=this.getJobStatusList()},updateData:function(){this.showSearch=!1,this.renderList=!0,this.getJobList(),this.$forceUpdate()},viewNotification:function(){var t=this;alert("view-notifications"),U.a.get(rt,nt).then(function(a){200===a.status?(t.notifications=a.data,alert(t.notifications)):alert("Error "+a.status)}).catch(function(t){alert(t)})}},mounted:function(){this.getJobList()}},ct=lt,dt=Object(m["a"])(ct,o,i,!1,null,null,null);dt.options.__file="App.vue";var ut=dt.exports;e("78a7"),e("a0db");s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(ut)}}).$mount("#app")},"78a7":function(t,a,e){},a0db:function(t,a,e){}});
//# sourceMappingURL=app.e629d80f.js.map